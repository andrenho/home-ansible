---
- name: Install and configure GUI for admin
  hosts: admin-gui
  become: yes

  tasks:
    - name: Install server admin GUI packages (void)
      xbps:
        name: "{{ item }}"
        state: latest
      with_items: "{{ admin_gui_void_packages }}"
      when: ansible_distribution == 'void'

    - name: Copy wallpaper
      copy:
        src: "files/wallpaper/{{ ansible_nodename }}.jpg"
        dest: "/usr/local/share/misc/wallpaper.jpg"
        mode: "0644"

    - name: Setup lightdm config file
      copy:
        src: files/config/lightdm-gtk-greeter.conf
        dest: /etc/lightdm/

    - name: Install fonts
      include_role:
        name: admingui-fonts

    - name: Install alacritty config file
      copy:
        src: files/config/alacritty.yml
        dest: "/home/{{ admin_user }}/.alacritty.yml"
      become_user: "{{ admin_user }}"

    - name: Install .xprofile
      copy:
        src: files/config/xprofile
        dest: "/home/{{ admin_user }}/.xprofile"
      become_user: "{{ admin_user }}"

# TODO: install chrome
# TODO: install Vnc, RDP, some form of remote X, other remote terminal stuff
# TODO: configure i3
# TODO: configure WindowMaker
